(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={form:"ContactForm_form__3LW9_",formLabel:"ContactForm_formLabel__2YrQM",formInput:"ContactForm_formInput__17yLl"}},17:function(t,e,n){t.exports={themeSelector:"Toggler_themeSelector__2e3Hk",label:"Toggler_label__3GHNm",switch:"Toggler_switch__2nd8I",slider:"Toggler_slider__3d5mo"}},24:function(t,e,n){t.exports={item:"ContactListItem_item__jRn0_",btn:"ContactListItem_btn__bk9hu"}},38:function(t,e,n){t.exports={list:"ContactList_list__3ZjVc"}},39:function(t,e,n){t.exports={container:"Layout_container__nFnsW"}},40:function(t,e,n){t.exports=n(67)},66:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c,a,o=n(0),r=n.n(o),u=n(7),l=n.n(u),s=n(3),i=n(18),m=n(1),b=n(2),h=n(5),f={addContactRequest:Object(m.b)("contacts/addRequest"),addContactSuccess:Object(m.b)("contacts/addSuccess"),addContactError:Object(m.b)("contacts/addError"),fetchContactsRequest:Object(m.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(m.b)("contacts/fetchSuccess"),fetchContactsError:Object(m.b)("contacts/fetchError"),deleteContactRequest:Object(m.b)("contacts/deleteRequest"),deleteContactSuccess:Object(m.b)("contacts/deleteSuccess"),deleteContactError:Object(m.b)("contacts/deleteError"),changeFilter:Object(m.b)("contacts/filter")},d=Object(m.c)([],(c={},Object(b.a)(c,f.fetchContactsSuccess,(function(t,e){return e.payload})),Object(b.a)(c,f.addContactSuccess,(function(t,e){return[].concat(Object(i.a)(t),[e.payload])})),Object(b.a)(c,f.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),C=Object(m.c)("",Object(b.a)({},f.changeFilter,(function(t,e){return e.payload}))),g=Object(m.c)(!1,(a={},Object(b.a)(a,f.fetchContactsRequest,(function(){return!0})),Object(b.a)(a,f.fetchContactsSuccess,(function(){return!1})),Object(b.a)(a,f.fetchContactsError,(function(){return!1})),Object(b.a)(a,f.addContactRequest,(function(){return!0})),Object(b.a)(a,f.addContactSuccess,(function(){return!1})),Object(b.a)(a,f.addContactError,(function(){return!1})),Object(b.a)(a,f.deleteContactRequest,(function(){return!0})),Object(b.a)(a,f.deleteContactSuccess,(function(){return!1})),Object(b.a)(a,f.deleteContactError,(function(){return!1})),a)),j=Object(h.c)({contacts:d,filter:C,loading:g}),O=n(14),p={toggleTheme:Object(m.b)("theme/toggleTheme",(function(t,e){return{payload:{theme:{isChecked:!1,themeConfig:"light"}}}}))},E=Object(m.c)({themeConfig:"light"},Object(b.a)({},p.toggleTheme,(function(t){return Object(O.a)(Object(O.a)({},t),{},{themeConfig:"light"===t.themeConfig?"dark":"light"})}))),v=Object(m.c)({isChecked:!1},Object(b.a)({},p.toggleTheme,(function(t){return Object(O.a)(Object(O.a)({},t),{},{isChecked:!t.isChecked})}))),_=Object(h.c)({themeConfig:E,isChecked:v}),y=n(37),k=n.n(y),S=Object(m.a)({reducer:{contacts:j,theme:_,middleware:[].concat(Object(i.a)(Object(m.d)()),[k.a])}}),L=n(9),N=n(10),F=n(12),R=n(11),w=n(25),q=n(6),T=function(t){return t.contacts.contacts},x=function(t){return t.contacts.filter},I={getLoading:function(t){return t.contacts.loading},getContacts:T,getFilter:x,getVisibleContacts:Object(q.a)([T,x],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},B=n(15),D=n.n(B);D.a.defaults.baseURL="http://localhost:2000";var A={addContact:function(t,e){return function(n){n(f.addContactRequest()),D.a.post("/contacts",{name:t,number:e}).then((function(t){return n(f.addContactSuccess(t.data))})).catch((function(t){return n(f.addContactError(t))}))}},fetchContacts:function(){return function(t){t(f.fetchContactsRequest()),D.a.get("/contacts").then((function(e){var n=e.data;return t(f.fetchContactsSuccess(n))})).catch((function(e){return t(f.fetchContactsError(e))}))}},deleteContact:function(t){return function(e){e(f.deleteContactRequest()),D.a.delete("/contacts/".concat(t)).then((function(){return e(f.deleteContactSuccess(t))})).catch((function(t){return e(f.deleteContactError(t))}))}}},V=n(13),H=n.n(V),J=(n(20),function(t){Object(F.a)(n,t);var e=Object(R.a)(n);function n(){var t;Object(L.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,c=n.value,a=n.name;t.setState(Object(b.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number;t.props.contacts.some((function(t){return t.name===c}))?(w.a.configure(),w.a.error(c+" is alredy in contacts")):t.props.onAddContact(c,a),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return Object(N.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return r.a.createElement("form",{onSubmit:this.handleSubmit,className:H.a.form},r.a.createElement("div",null,r.a.createElement("label",{className:H.a.formLabel},"Name",r.a.createElement("input",{className:H.a.formInput,type:"text",value:e,onChange:this.handleChange,name:"name"}))),r.a.createElement("div",null,r.a.createElement("label",{className:H.a.formLabel},"Number",r.a.createElement("input",{className:H.a.formInput,type:"tel",value:n,onChange:this.handleChange,name:"number"}))),r.a.createElement("button",{type:"submit",disabled:!e.length||!n.length},"Add contact"))}}]),n}(o.Component)),M={onAddContact:A.addContact},W=Object(s.b)((function(t){return{contacts:I.getContacts(t)}}),M)(J),G=n(24);var P=function(t){var e=t.name,n=t.number,c=t.onDeleteContact;return r.a.createElement("div",{className:G.item},r.a.createElement("p",null,e,":",n),r.a.createElement("button",{className:G.btn,type:"button",onClick:c},"Delete"))},Q=n(38),U=n.n(Q);var Y={onDeleteContact:A.deleteContact},Z=Object(s.b)((function(t){return{contacts:I.getVisibleContacts(t)}}),Y)((function(t){var e=t.contacts,n=t.onDeleteContact;return r.a.createElement("ul",{className:U.a.list},e&&e.map((function(t){var e=t.id,c=t.name,a=t.number;return r.a.createElement("li",{key:e},r.a.createElement(P,{name:c,number:a,onDeleteContact:function(){return n(e)}}))})))})),z={onChangeFilter:f.changeFilter},K=Object(s.b)((function(t){return{value:I.getFilter(t)}}),z)((function(t){var e=t.value,n=t.onChangeFilter;return r.a.createElement("div",null,r.a.createElement("p",null,"Find contacts by name"),r.a.createElement("input",{type:"text",value:e,onChange:function(t){return n(t.target.value)}}))})),X={fontColor:"black",bodyBg:"white"},$={fontColor:"white",bodyBg:"black"},tt=(r.a.createContext(X),function(t){return t.theme.themeConfig}),et=function(t){return t.theme.isChecked},nt=n(39),ct=n.n(nt),at=Object(s.b)((function(t){return{theme:tt(t),isChecked:et(t)}}))((function(t){var e=t.children,n=t.theme;return r.a.createElement("div",{style:{background:"light"===n.themeConfig?X.bodyBg:$.bodyBg,color:"light"===n.themeConfig?X.fontColor:$.fontColor},className:ct.a.container},e)})),ot=n(17),rt=n.n(ot),ut=function(t){Object(F.a)(n,t);var e=Object(R.a)(n);function n(){return Object(L.a)(this,n),e.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){var t=this.props,e=t.theme,n=t.toggleTheme,c=t.isChecked;return r.a.createElement("div",{style:{background:"light"===e.themeConfig?X.bodyBg:$.bodyBg},className:rt.a.themeSelector},r.a.createElement("span",{className:rt.a.label}),r.a.createElement("label",{className:rt.a.switch},r.a.createElement("input",{type:"checkbox",checked:c.isChecked,onChange:n}),r.a.createElement("span",{className:rt.a.slider})))}}]),n}(o.Component),lt={toggleTheme:p.toggleTheme},st=Object(s.b)((function(t){return{isChecked:et(t),theme:tt(t)}}),lt)(ut),it=Object(s.b)((function(t){return{contacts:I.getContacts(t)}}))((function(t){var e=t.contacts;return r.a.createElement(at,null,r.a.createElement(st,null),r.a.createElement("h1",null,"Phonebook"),r.a.createElement(W,null),e.length>0&&r.a.createElement("h2",null,"Contacts"),e.length>2&&r.a.createElement(K,null),r.a.createElement(Z,null))})),mt=function(t){Object(F.a)(n,t);var e=Object(R.a)(n);function n(){return Object(L.a)(this,n),e.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return r.a.createElement(it,this.props)}}]),n}(o.Component),bt={onFetchContacts:A.fetchContacts},ht=Object(s.b)((function(t){return{isLoadingContacts:I.getLoading(t)}}),bt)(mt);n(66);l.a.render(r.a.createElement(s.a,{store:S},r.a.createElement(ht,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.03d866ec.chunk.js.map